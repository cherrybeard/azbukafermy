$(function(){function t(t){t.each(function(){var t=$(this).closest(".text-input");$(this).val()||t.addClass("error")})}$("[data-form]").on("submit",function(i){var n=$(this);if(i.preventDefault(),t(n.find("input[type=text]")),t(n.find("input[type=email]")),t(n.find("textarea")),!n.find(".text-input.error").length){var e={url:"index.php",type:n.attr("method"),data:n.serialize()};n.find("button[type=submit]").prop("disabled",!0),n.find(".text-input").addClass("disabled"),$.ajax(e).done(function(){n.find("button[type=submit]").prop("disabled",!1).addClass("success").text("Отправлено!")})}}),$("[data-form]").on("focus","input",function(){$(this).closest(".text-input").removeClass("error")}),$("[data-form]").on("focus","textarea",function(){$(this).closest(".text-input").removeClass("error")}),$("[data-form]").on("click",".text-input",function(){$(this).find("input").focus()})});